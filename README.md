# Multi Campus Django Project

**Subject : Make Your Own Playlist with Youtube**

## One Sound

YouTubeì—ì„œ ìŒì•…ë“¤ì„ ì €ìž¥í•´ì„œ ë‚˜ë§Œì˜ í”Œë ˆì´ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆëŠ” ì‚¬ì´íŠ¸ìž…ë‹ˆë‹¤.

urlì—ì„œ ì‹œìž‘ì§€ì ê³¼ ëì§€ì ì„ ì§€ì •í•´ì„œ ì›í•˜ëŠ” ìŒì•…ì„ mp3 íŒŒì¼ë¡œ ì €ìž¥ ê°€ëŠ¥í•˜ê³ ,

ì €ìž¥ëœ ìŒì•…ì„ ê²€ìƒ‰í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ê¶ê·¹ì ìœ¼ë¡œ ì €ìž¥ëœ ìŒì•…ë“¤ë¡œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

## How to execute ?

> Python 3.7 ë²„ì „ì„ ì´ìš©
>
> **â€» í–¥í›„ Docker ì™€ ì  í‚¤ìŠ¤ë¥¼ ì´ìš©í•˜ì—¬ ë°°í¬ ë° ì‹¤í–‰ì„ ìžë™í™”í•  ìˆ˜ ìžˆë„ë¡ ì„¤ì •í•  ì˜ˆì •**

1. git clone ë°›ê¸°

```bash
$ git clone https://github.com/multicampus-cloud/django_playlist.git
```

2. ê°€ìƒí™˜ê²½ ë§Œë“¤ê¸°

```bash
$ python -m venv venv
```

3. ê°€ìƒí™˜ê²½ ëª¨ë“œë¡œ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì •

```bash
$ source venv/Scripts/activate
```

4. ì„œë¹„ìŠ¤ ì´ìš© ì‹œ í•„ìš”í•œ íŒ¨í‚¤ì§€ë“¤ ì„¤ì¹˜

```bash
$ pip install -r requirements.txt
```

5. ë¯¸ë””ì–´ íŒŒì¼ ì¸ì½”ë”©ì„ ìœ„í•œ `ffmpeg.exe` íŒŒì¼ì˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

   > ìœˆë„ìš°OS ê¸°ì¤€ìœ¼ë¡œ ìž‘ì„±

   1. ì œì–´íŒ - ì‹œìŠ¤í…œ ì§„ìž…
   2. ê³ ê¸‰ ì‹œìŠ¤í…œ ì„¤ì • ì§„ìž…
   3. ì‹œìŠ¤í…œ ì†ì„± ì°½ì—ì„œ **í™˜ê²½ ë³€ìˆ˜** í´ë¦­
   4. `Path` ë³€ìˆ˜ì— `ffmpeg.exe` íŒŒì¼ì´ ìžˆëŠ” í´ë” ê²½ë¡œë¥¼ ì¶”ê°€

6. ê²€ìƒ‰ì„ ìœ„í•œ `elastic search` ì„œë²„ ì‹¤í–‰

   - `elasticsearch-7.9.0/bin` í´ë” ì§„ìž…
   - `elasticsearch.bat` ì‹¤í–‰

7. DBì— ì €ìž¥ë˜ì–´ ìžˆëŠ” ì •ë³´ë¥¼ `elastic search`ë¥¼ í†µí•´ `indexing` ìž‘ì—…

```bash
$ python manage.py search_index --rebuild
```

8. ì›¹ ì„œë¹„ìŠ¤(Django) ì‹¤í–‰

```bash
$ python manage.py runserver
```

## Architecture

![KakaoTalk_20210123_192603952](https://user-images.githubusercontent.com/66216102/105575721-fa4e6100-5db0-11eb-9b73-ffac4da6c3d1.png)

## UI

ðŸ‘‰ ë©”ì¸ íŽ˜ì´ì§€(1)

![image-20210122143600269](./imges/image-20210122143600269.png)

ðŸ‘‰ ë©”ì¸ íŽ˜ì´ì§€(2) - ìµœê·¼ ì¶”ê°€í•œ ë…¸ëž˜ì •ë³´

![image-20210122143902845](./imges/image-20210122143902845.png)

ðŸ‘‰ ë©”ì¸ íŽ˜ì´ì§€(3) - ìµœê·¼ ì¶”ê°€í•œ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸

![image-20210122144036444](./imges/image-20210122144036444.png)

ðŸ‘‰Search íŽ˜ì´ì§€(1) - ì œëª© ë° ê°€ìˆ˜ ê²€ìƒ‰

![image-20210122144241840](./imges/image-20210122144241840.png)

![image-20210122144349376](./imges/image-20210122144349376.png)

ðŸ‘‰Search íŽ˜ì´ì§€(2) - ìž¥ë¥´ ë° íƒœê·¸ë¡œ ê²€ìƒ‰

![image-20210122144431690](./imges/image-20210122144431690.png)

![image-20210122144539284](./imges/image-20210122144539284.png)

### ì‚¬ìš© ê¸°ìˆ  ë° í™˜ê²½

Django, MariaDB, ElasticSearch, Requests, BeautifulSoup, FFmpeg

ì˜ìƒì²˜ë¦¬ë¥¼ ìœ„í•œ Python ë¼ì´ë¸ŒëŸ¬ë¦¬ : youtube-dl, pydub, pillow

### ê¸°ìˆ  ì„¤ëª…

#### ì¶”ì²œ url ë° ê°€ìˆ˜ ì´ë¯¸ì§€ í¬ë¡¤ë§

![image-20210122142556570](./imges/image-20210122142556570.png)

#### Elastic Search

ðŸ‘‰ DBì˜ SQLë¬¸ì„ í™œìš©í•˜ì§€ ì•Šê³  ì—˜ë¼ìŠ¤í‹±ì„ ì‚¬ìš©í•œ ì´ìœ 

ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ëŠ” ë‹¨ìˆœ í…ìŠ¤íŠ¸ ë§¤ì¹­ì— ëŒ€í•œ ê²€ìƒ‰ë§Œì„ ì œê³µ

ë¶„ì‚° ì²˜ë¦¬ë¥¼ í†µí•´ ê±°ì˜ ì‹¤ì‹œê°„ì— ê°€ê¹Œìš´ ë°ì´í„° ê²€ìƒ‰ ê°€ëŠ¥

ëŒ€ëŸ‰ì˜ ë¹„ì •í˜• ë°ì´í„° ë³´ê´€ ë° ê²€ìƒ‰ ê°€ëŠ¥

ì „ë¬¸ê²€ìƒ‰ - ì „ì²´ë¥¼ ìƒ‰ì¸í•˜ì—¬ íŠ¹ì • ë‹¨ì–´ê°€ í¬í•¨ëœ ë¬¸ì„œë¥¼ ê²€ìƒ‰í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥

### í”„ë¡œì íŠ¸ DB

![erd](./imges/erd.png)

## Improve on

> Develope

1. EC2 ì— ì„œë²„ ë°°í¬
2. MariaDBë¥¼ AWS RDSë¡œ ìˆ˜ì •
3. Elastic-Search ë¥¼ Docker ë¡œ ì‹¤í–‰
4. ë¡œì»¬ì— ì €ìž¥ë˜ëŠ” ì´ë¯¸ì§€, mp3 íŒŒì¼ë“¤ì„ S3ë¡œ ì €ìž¥

> Operation

1. Jenkins ë¥¼ í†µí•œ CI/CD ë‹¬ì„±

### [DEMO - VIDEO](https://user-images.githubusercontent.com/17541671/105449181-2d162d80-5cbb-11eb-9f09-0ce034d20ab2.mp4)
